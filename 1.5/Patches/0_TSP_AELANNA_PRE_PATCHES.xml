<?xml version="1.0" encoding="utf-8"?>
<Patch>
  <!-- Aelanna's Model No-Match Detector and Insertion Code -->
  <!-- Special thanks to Aelanna for straight-up saving me scores of headaches! -->
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Thermaebath"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Thermaebath"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Thermaebath"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Thermaebath"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEM_MeatSmoking"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEM_MeatSmoking"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEM_MeatSmoking"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEM_MeatSmoking"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_CementMaking"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CementMaking"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_CementMaking"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CementMaking"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]/tags</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]</xpath>
      <success>Always</success>
      <value>
        <tags></tags>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]/thingCategories</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]</xpath>
      <success>Always</success>
      <value>
        <thingCategories></thingCategories>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/requiredMemes</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]</xpath>
      <success>Always</success>
      <value>
        <requiredMemes></requiredMemes>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="Apparel_FurStandard"]/thingCategories</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/FactionDef[defName="Apparel_FurStandard"]</xpath>
      <success>Always</success>
      <value>
        <thingCategories></thingCategories>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ResearchProjectDef[defName="LogBoilers"]/prerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ResearchProjectDef[defName="LogBoilers"]</xpath>
      <success>Always</success>
      <value>
        <prerequisites></prerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="GreekSculpture"]/recipeMaker</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="GreekSculpture"]</xpath>
      <success>Always</success>
      <value>
		<recipeMaker></recipeMaker>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="GreekSculpture"]/recipeMaker/researchPrerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="GreekSculpture"]/recipeMaker</xpath>
      <success>Always</success>
      <value>
        <researchPrerequisites></researchPrerequisites>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="GreekSculptureTerror"]/recipeMaker</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="GreekSculptureTerror"]</xpath>
      <success>Always</success>
      <value>
		<recipeMaker></recipeMaker>
      </value>
    </nomatch>
  </Operation>
  <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="GreekSculptureTerror"]/recipeMaker/researchPrerequisites</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="GreekSculptureTerror"]/recipeMaker</xpath>
      <success>Always</success>
      <value>
        <researchPrerequisites></researchPrerequisites>
      </value>
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]/apparel</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]</xpath>
      <success>Always</success>
      <value>
        <apparel></apparel>
      </value>
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]/apparel/layers</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]/apparel</xpath>
      <success>Always</success>
      <value>
        <layers></layers>
      </value>
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="AR_Sagum"]/apparel</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="AR_Sagum"]</xpath>
      <success>Always</success>
      <value>
        <apparel></apparel>
      </value>
    </nomatch>
  </Operation>
  
  <Operation Class="PatchOperationConditional">
    <xpath>/Defs/ThingDef[defName="AR_Sagum"]/apparel/layers</xpath>
    <nomatch Class="PatchOperationAdd">
      <xpath>/Defs/ThingDef[defName="AR_Sagum"]/apparel</xpath>
      <success>Always</success>
      <value>
        <layers></layers>
      </value>
    </nomatch>
  </Operation>
</Patch>
