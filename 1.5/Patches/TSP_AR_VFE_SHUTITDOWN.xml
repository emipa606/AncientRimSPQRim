<?xml version="1.0" encoding="utf-8"?>
<!-- THERE CAN ONLY BE ONE -->
<Patch>
	<!--
  <Operation Class="PatchOperationConditional">
    DO THE GENTILES KNOW?
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    If they do, SHUT IT DOWN.
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Toga"]</xpath>
    </match>
    If the first XPATH does not exist, the original code stands. All according to plan.
  </Operation>
	-->
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PawnKindDef/apparelRequired/li[text()="VFEC_Toga"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Wreath"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PawnKindDef/apparelRequired/li[text()="VFEC_Wreath"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef/prerequisites/li[text()="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[researchPrerequisite="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/recipeMaker[researchPrerequisite="VFEC_Togas"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/recipeMaker[researchPrerequisite="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_Togas"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, LET'S FASTING GOOOOOOOOOO!!! -->
    <match Class="PatchOperationSequence">
      <!-- <success>Always</success> -->
      <operations>
        <li Class="PatchOperationRemove">
          <success>Always</success>
          <xpath>/Defs/ThingDef[defName="VFEC_Toga"]</xpath>
        </li>
        <li Class="PatchOperationAdd">
          <success>Always</success>
          <xpath>/Defs</xpath>
          <value>
            <!-- Now we add it back -->
            <ThingDef ParentName="BaseFilth">
              <defName>VFEC_Toga</defName>
              <label>VFEC Toga (ERROR)</label>
              <description>The Ancient Rim Mod series removes the Vanilla Factions Expanded Classical Mod's togas. If you are seeing this, you are witnessing an error. Please report it to Mlie or TurtleShroom.</description>
              <selectable>true</selectable>
              <statBases>
                <MarketValue>0</MarketValue>
                <Beauty>1</Beauty>
                <Cleanliness>0</Cleanliness>
              </statBases>
              <graphicData Inherit="False">
                <texPath>Things/Pawn/Humanlike/Apparel/Toga/Toga</texPath>
                <graphicClass>Graphic_Single</graphicClass>
              </graphicData>
              <filth>
                <ignoreFilthMultiplierStat>true</ignoreFilthMultiplierStat>
                <disappearsInDays>0.001~0.05</disappearsInDays>
                <rainWashes>true</rainWashes>
                <cleaningWorkToReduceThickness>1</cleaningWorkToReduceThickness>
                <canFilthAttach>false</canFilthAttach>
                <cleaningSound>Vomit</cleaningSound>
              </filth>
            </ThingDef>
          </value>
        </li>
        <li Class="PatchOperationRemove">
          <success>Always</success>
          <xpath>/Defs/PawnKindDef/apparelRequired/li[text()="VFEC_Toga"]</xpath>
        </li>
      </operations>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef/prerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[researchPrerequisite="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_LegionnaireArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef/prerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/recipeMaker[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/recipeMaker[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_CenturionArmor"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <!-- Duplicated in the Core Mod -->
  <!--
	<Operation Class="PatchOperationConditional">
	DO THE GENTILES KNOW?
		<xpath>/Defs/ThingDef[defName="VFEC_Javelin"]</xpath>
		If they do, SHUT IT DOWN.
		<match Class="PatchOperationRemove">
			<success>Always</success>
			<xpath>/Defs/ThingDef[defName="VFEC_Javelin"]</xpath>
		</match>
		If the first XPATH does not exist, the original code stands. All according to plan.
	</Operation>
	-->
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicTrader"]/apparelRequired</xpath>
      <value>
        <apparelRequired>
          <li>AR_Toga</li>
        </apparelRequired>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicSenator"]/apparelRequired</xpath>
      <value>
        <apparelRequired>
          <li>AR_Toga</li>
        </apparelRequired>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- Does this exist? -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicSenator"]/apparelRequired</xpath>
      <value>
        <apparelRequired>
          <li>AR_Toga</li>
        </apparelRequired>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Centurion"]/apparelTags</xpath>
      <value>
        <apparelTags>
          <li>RomeCivil</li>
          <li>RomeOfficer</li>
          <li>Centurion</li>
          <li>ClassicalMilitaryClassy</li>
        </apparelTags>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Centurion"]/weaponTags</xpath>
      <value>
        <weaponTags>
          <li>RomeSoldier</li>
          <li>LongSword</li>
          <li>Lance</li>
        </weaponTags>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Centurion"]/apparelRequired</xpath>
      <value>
        <apparelRequired Inherit="False">
          <li>VFEC_Apparel_CenturionArmor</li>
          <li>AR_GaleaCenturio</li>
        </apparelRequired>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Centurion"]/apparelTags</xpath>
      <value>
        <apparelTags>
          <li>RomeCivil</li>
          <li>RomeOfficer</li>
          <li>Centurion</li>
          <li>ClassicalMilitaryClassy</li>
        </apparelTags>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Praetorian"]/apparelTags</xpath>
      <value>
        <apparelTags>
          <li>RomeCivil</li>
          <li>RomeOfficer</li>
          <li>Praetorian</li>
          <li>ClassicalMilitaryClassy</li>
        </apparelTags>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ApparelLayerDef[defName="VFEC_OuterShell"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="AR_Sagum" or defName="AR_Chalmys" or defName="AR_LightCape" or defName="AR_FurCape"]/apparel/layers</xpath>
      <value>
        <layers Inherit="False">
          <li>VFEC_OuterShell</li>
        </layers>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ApparelLayerDef[defName="VFEC_OuterShell"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="AR_Sagum"]/apparel/layers</xpath>
      <value>
        <layers Inherit="False">
          <li>VFEC_OuterShell</li>
        </layers>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/PawnKindDef[defName="VFEC_Praetorian"]/apparelRequired</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PawnKindDef[defName="VFEC_Praetorian"]/apparelRequired</xpath>
      <value>
		<apparelRequired Inherit="False">
			<li>AR_Sagum</li>
			<li>VFEC_Apparel_CenturionArmor</li>
		</apparelRequired>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ApparelLayerDef[defName="VFEC_OuterShell"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor" or defName="VFEC_Apparel_LegionnaireArmor"]/apparel/layers</xpath>
      <value>
        <layers Inherit="False">
          <li>Shell</li>
        </layers>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicTrader"]/apparelTags</xpath>
      <value>
        <li>Hellenic</li>
        <li>RomeCivil</li>
        <li>RomeNoble</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicSenator"]/apparelTags</xpath>
      <value>
        <li>RomeCivil</li>
        <li>RomeNoble</li>
        <li>RomeRoyal</li>
        <li>Hellenic</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>Defs/PawnKindDef[defName="VFEC_RepublicSenator"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_RepublicSenator"]</xpath>
      <value>
        <labelFemale>Senatrix</labelFemale>
        <labelPlural>Senatores</labelPlural>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>Defs/PawnKindDef[defName="VFEC_Plebeian"]/apparelTags</xpath>
      <value>
        <li>RomePlayer</li>
        <li>Hellenic</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisite>AR_Project_Segmental_Armour</researchPrerequisite>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]/thingCategories</xpath>
      <value>
        <thingCategories>
          <li>TSP_AR_RomanArmor</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisite>AR_Project_Segmental_Armour</researchPrerequisite>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionArmor"]/thingCategories</xpath>
      <value>
        <thingCategories>
          <li>TSP_AR_RomanArmor</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireHelmet"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisite>AR_Project_Segmental_Armour</researchPrerequisite>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireHelmet"]/thingCategories</xpath>
      <value>
        <thingCategories>
          <li>TSP_AR_RomanArmorHeadgear</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionHelmet"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisite>AR_Project_Segmental_Armour</researchPrerequisite>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Apparel_CenturionHelmet"]/thingCategories</xpath>
      <value>
        <thingCategories>
          <li>TSP_AR_RomanArmorHeadgear</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]/prerequisites</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Mosaics"]/prerequisites</xpath>
      <value>
        <li>Stonecutting</li>
        <li>AR_Project_Mediterranean_Culture</li>
      </value>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef/prerequisites/li[text()="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_DramaAndComedy"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]/researchPrerequisites</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]/researchPrerequisites</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]/researchPrerequisite</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]/researchPrerequisite</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TheatreStage"]</xpath>
      <value>
        <researchPrerequisites Inherit="False">
          <li>ComplexFurniture</li>
          <li>AR_Project_Mediterranean_Culture</li>
        </researchPrerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]/baseCost</xpath>
      <value>
        <baseCost>200</baseCost>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]/tags</xpath>
      <value>
        <li>ClassicStart</li>
        <li>RomanStart</li>
        <li>EgyptStart</li>
        <li MayRequire="oskarpotocki.vanillafactionsexpanded.medievalmodule">VFEM_MedievalStart</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CraftingBench"]/prerequisites</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Thermaebath"]/prerequisites</xpath>
      <value>
        <li MayRequire="dubwise.dubsbadhygiene">Plumbing</li>
        <li MayRequire="dubwise.dubsbadhygiene">LogBoilers</li>
        <li>AR_Project_Hypocaustum</li>
        <!-- <li>AR_Project_Water_Cooling</li> -->
        <li>VFEC_TemperatureControl</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]/prerequisites</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_TemperatureControl"]/prerequisites</xpath>
      <value>
        <li>AR_Project_Hypocaustum</li>
        <li>AR_Project_Water_Cooling</li>
        <li MayRequire="dubwise.dubsbadhygiene">Plumbing</li>
        <li MayRequire="dubwise.dubsbadhygiene">LogBoilers</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="WaterTowerS"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="HotTubs"]/prerequisites</xpath>
      <value>
        <li MayRequire="oskarpotocki.vfe.classical">VFEC_Thermaebath</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_MeatDrying"]/prerequisites</xpath>
      <value>
        <prerequisites>
          <li>Pemmican</li>
          <li MayRequire="oskarpotocki.vanillafactionsexpanded.medievalmodule">VFEM_MeatSmoking</li>
        </prerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="NobleApparel"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="NobleApparel"]/prerequisites</xpath>
      <value>
        <li MayRequire="oskarpotocki.vfe.classical">VFEC_TyrianProduction</li>
        <li MayRequire="oskarpotocki.vanillafactionsexpanded.medievalmodule">VFEM_NobleMedievalApparel</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_TyrianProduction"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_TyrianProduction"]/baseCost</xpath>
      <value>
        <baseCost>300</baseCost>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEM_NobleMedievalApparel"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEM_NobleMedievalApparel"]/prerequisites</xpath>
      <value>
        <li MayRequire="oskarpotocki.vfe.classical">VFEC_TyrianProduction</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Dagger"]/recipeMaker/researchPrerequisite</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisites>
			<li>LongBlades</li>
		</researchPrerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]/thingCategories</xpath>
      <value>
        <thingCategories Inherit="False">
          <li>TSP_AR_RomanMelee</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Spatha"]/weaponTags</xpath>
      <value>
        <li>RomeSoldier</li>
        <li>MeleePiercer</li>
        <li>GoblinMelee</li>
        <li>HellenicHeavy</li>
        <li>NeolithicChief</li>
        <li>NeolithicMeleeChief</li>
        <li>NeolithicMeleeAdvanced</li>
        <li>NeolithicMeleeHeavy</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Tent"]/researchPrerequisites</xpath>
      <value>
        <researchPrerequisites>
          <li>ComplexFurniture</li>
        </researchPrerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Mosi_DoubleTent"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Mosi_DoubleTent"]/researchPrerequisites</xpath>
      <value>
        <researchPrerequisites>
          <li>ComplexFurniture</li>
        </researchPrerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_LegionaryArmaments"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. All according to plan. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Apparel_CenturionHelmet"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef/prerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef/recipeMaker/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RecipeDef/researchPrerequisites/li[text()="VFEC_LegionaryArmaments"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  
    <Operation Class="PatchOperationConditional">
		<!-- DO THE GENTILES KNOW? -->
		<xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_LegionaryArmaments"]</xpath>
		<!-- If they do, SHUT IT DOWN. -->
		<match Class="PatchOperationRemove">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[researchPrerequisite="VFEC_LegionaryArmaments"]</xpath>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  
    <Operation Class="PatchOperationConditional">
		<!-- DO THE GENTILES KNOW? -->
		<xpath>/Defs/ThingDef[researchPrerequisite="VFEC_LegionaryArmaments"]</xpath>
		<!-- If they do, SHUT IT DOWN. -->
		<match Class="PatchOperationRemove">
			<success>Always</success>
			<xpath>/Defs/ThingDef[researchPrerequisite="VFEC_LegionaryArmaments"]</xpath>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_CementMaking"]/prerequisites</xpath>
      <value>
        <prerequisites>
          <li>Stonecutting</li>
        </prerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/label</xpath>
      <value>
        <label>Manuballista</label>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/description</xpath>
      <value>
        <description>Construct Manuballistae, which are basically miniaturized, portable Scorpioes. Like its predecessors, a Manuballista was a torsion-based siege engines, except they were small enough to be used like later hand held crossbows.</description>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/label</xpath>
      <value>
        <label>Manuballista</label>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/description</xpath>
      <value>
        <description>The masterpiece of Roman siege technology. The Manuballista was invented as a further, portable improvement to the Scorpio. A Manuballista was a torsion-based siege engine small enough to be a hand held crossbow (as opposed to ballistae and the Scorpio). As with its predecessors, its shooting involved "storing" kinetic energy by applying torque (force applied to a rotating object) to ropes. Releasing this launched the missile to spectacular results. It shoots diverse kinds of munitions, such as jagged stones and single pointed bolts.</description>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/thingClass</xpath>
      <value>
        <thingClass>ThingWithComps</thingClass>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Turret_Scorpion"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Turret_Scorpion"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/minifiedDef</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/minifiedDef</xpath>
      <value>
        <minifiedDef>MinifiedThing</minifiedDef>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/statBases/MarketValue</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/statBases/MarketValue</xpath>
      <value>
        <MarketValue>350</MarketValue>
      </value>
    </match>
    <!-- If it DOES NOT, add this. -->
    <nomatch Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/statBases</xpath>
      <value>
        <MarketValue>350</MarketValue>
      </value>
    </nomatch>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/tradeability</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]/tradeability</xpath>
      <value>
        <tradeability>All</tradeability>
      </value>
    </match>
    <!-- If it DOES NOT, add this. -->
    <nomatch Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]</xpath>
      <value>
        <tradeability>All</tradeability>
      </value>
    </nomatch>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_TurretGun_Scorpion"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/JobDef[defName="VFEC_SetupScorpion"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/JobDef[defName="VFEC_SetupScorpion"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/RaidStrategyDef[defName="VFEC_ScorpionRaid"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/RaidStrategyDef[defName="VFEC_ScorpionRaid"]</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
	<!-- Aelanna's Model No-Match Detector and Insertion Code -->
	<!-- Special thanks to Aelanna for straight-up saving me scores of headaches! -->
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/weaponTags</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]</xpath>
			<success>Always</success>
			<value>
				<weaponTags></weaponTags>
			</value>
		</nomatch>
	</Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/weaponTags</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/weaponTags</xpath>
      <value>
        <li>NeolithicRangedChief</li>
        <li>NeolithicChief</li>
        <li>NeolithicRangedHeavy</li>
        <li>NeolithicRangedAdvanced</li>
        <li>MedievalRangedHeavy</li>
        <li>MedievalRangedAdvanced</li>
        <li>Manuballista</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/recipeMaker</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]</xpath>
			<success>Always</success>
			<value>
				<recipeMaker></recipeMaker>
			</value>
		</nomatch>
	</Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/recipeMaker</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/recipeMaker</xpath>
      <value>
        <recipeMaker>
          <skillRequirements>
            <Crafting>8</Crafting>
          </skillRequirements>
          <researchPrerequisite>VFEC_Scorpion</researchPrerequisite>
          <unfinishedThingDef>UnfinishedGun</unfinishedThingDef>
          <workSpeedStat>GeneralLaborSpeed</workSpeedStat>
          <workSkill>Crafting</workSkill>
          <effectWorking>Smith</effectWorking>
          <soundWorking>Recipe_Smith</soundWorking>
          <recipeUsers>
            <li>ElectricSmithy</li>
            <li>FueledSmithy</li>
          </recipeUsers>
        </recipeMaker>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/comps</xpath>
      <value>
        <li>
          <compClass>CompQuality</compClass>
        </li>
        <li Class="CompProperties_Biocodable">
        </li>
        <li Class="CompProperties_Art">
          <nameMaker>NamerArtWeaponGun</nameMaker>
          <descriptionMaker>ArtDescription_WeaponGun</descriptionMaker>
          <minQualityForArtistic>Good</minQualityForArtistic>
        </li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/statBases</xpath>
      <value>
        <WorkToMake>18000</WorkToMake>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="Roman_Standard"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/thingCategories</xpath>
      <value>
        <thingCategories>
          <li>TSP_AR_RomanRanged</li>
        </thingCategories>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_MeleeWeapon_Dagger"]/tags</xpath>
      <value>
        <li>Knife</li>
        <li>Dagger</li>
        <li>GnomeMelee</li>
        <li>GnomeChef</li>
        <li>BeetMelee</li>
        <li>JeubMelee</li>
        <li>GoblinMelee</li>
        <li>FrogmanMelee</li>
        <li>MeleePiercer</li>
        <li>NeolithicMeleeDecent</li>
        <li>Hastatus</li>
		<li>SurvivalistMelee</li>
		<li>GoblinMelee</li>
		<li>FrogmanMelee</li>
		<li>PeeledMelee</li>
		<li>PeeledMeleeSimple</li>
		<li>K4GShatteredBottle</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[defName="VFEC_Weapon_Scorpion"]/verbs/li/defaultProjectile</xpath>
      <value>
        <defaultProjectile>AR_Bullet_Scorpio</defaultProjectile>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/researchViewX</xpath>
      <value>
        <researchViewX>6</researchViewX>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/researchViewY</xpath>
      <value>
        <researchViewY>3</researchViewY>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/prerequisites</xpath>
      <value>
        <li>AR_Project_Ballistae</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/tab</xpath>
      <value>
        <tab>AR_ResearchTab</tab>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <!-- This is too advanced to start out having it. -->
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/ResearchProjectDef[defName="VFEC_Scorpion"]/tags</xpath>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_CentralRepublic"]/modExtensions/li/senatorResearch</xpath>
      <value>
        <senatorResearch>
			<li>AR_Project_Mediterranean_Culture</li>
			<li>CarpetMaking</li>
			<li>Devilstrand</li>
			<li>VFEC_TemperatureControl</li>
			<li>VFEC_Thermaebath</li>
        </senatorResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_CentralRepublic"]/modExtensions/li[@Class="VFEC.Senators.FactionExtension_SenatorInfo"]/finalResearch</xpath>
      <value>
        <finalResearch>Cocoa</finalResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <!--
  <Operation Class="PatchOperationConditional">
    Does this exist?
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    If it does, do this replacement.
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_WesternRepublic"]/modExtensions/li[@Class="VFEC.Senators.FactionExtension_SenatorInfo"]/senatorResearch</xpath>
      <value>
        <senatorResearch>
          <li>VFEC_Beacons</li>
          <li>Greatbow</li>
          <li>AR_Project_Chainmail</li>
          <li>AR_Project_Polearms</li>
          <li>AR_Project_Segmental_Armour</li>
        </senatorResearch>
      </value>
    </match>
    If the first XPATH does not exist, the original code stands.
  </Operation>
  -->
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_WesternRepublic"]/modExtensions/li/senatorResearch</xpath>
      <value>
        <senatorResearch>
          <li>VFEC_Beacons</li>
          <li>AR_Project_Chainmail</li>
          <li>AR_Project_Polearms</li>
          <li>AR_Project_Segmental_Armour</li>
		  <li>AR_Project_Mechanical_Weapons</li>
        </senatorResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_WesternRepublic"]/modExtensions/li/finalResearch</xpath>
      <value>
        <finalResearch>AR_Project_Ballistae</finalResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_EasternRepublic"]/modExtensions/li/senatorResearch</xpath>
      <value>
        <senatorResearch>
			<li>VFEC_TyrianProduction</li>
			<li>AR_Project_Metal_II</li>
			<li>VFEC_WoodfiredCrematorium</li>
			<li>VFEC_RoadBuilding</li>
			<li>DrugProduction</li>
        </senatorResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/FactionDef[defName="VFEC_EasternRepublic"]/modExtensions/li/finalResearch</xpath>
      <value>
        <finalResearch>PsychiteRefining</finalResearch>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/ThingDef[@Name="Scutum"]/recipeMaker/researchPrerequisite</xpath>
      <value>
        <researchPrerequisites>
			<li>VFEC_HeavyShieldMaking</li>
		</researchPrerequisites>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/disallowedPrecepts</xpath>
      <value>
        <li MayRequire="VanillaExpanded.VMemesE">VME_Slavery_Forbidden</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">Slavery_Abhorrent</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">Slavery_Horrible</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">Slavery_Disapproved</li>
        <!-- For some reason, the game eliminates the entire Slavery Precept when generating Greek city-states if this line is included -->
        <!-- <li MayRequire="Ludeon.RimWorld.Ideology">Slavery_Acceptable</li> -->
        <li MayRequire="erdelf.HumanoidAlienRaces">HAR_AlienSlavery_Abhorrent</li>
        <li MayRequire="erdelf.HumanoidAlienRaces">HAR_AlienSlavery_Horrible</li>
        <li MayRequire="erdelf.HumanoidAlienRaces">HAR_AlienSlavery_Disapproved</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">DrugUse_Prohibited</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">DrugUse_MedicalOnly</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">DrugUse_MedicalOrSocial</li>
        <li MayRequire="Ludeon.Rimworld.Ideology">IdeoDiversity_Abhorrent</li>
        <li MayRequire="Ludeon.Rimworld.Ideology">IdeoDiversity_Horrible</li>
        <!-- <li MayRequire="Ludeon.Rimworld.Ideology">IdeoDiversity_Respected</li> -->
        <li MayRequire="martinbaste.Ideo.XenoPrecept">XenoDiversity_Abhorrent</li>
        <li MayRequire="martinbaste.Ideo.XenoPrecept">XenoDiversity_Horrible</li>
        <li MayRequire="martinbaste.Ideo.XenoPrecept">XenoDiversity_Disapproved</li>
        <!-- For some reason, the game eliminates the entire Precept category when generating Greek city-states if this line is included -->
        <!-- <li MayRequire="martinbaste.Ideo.XenoPrecept">XenoDiversity_Respected</li> -->
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/disallowedMemes</xpath>
      <value>
        <li MayRequire="Ludeon.RimWorld.Ideology">AnimalPersonhood</li>
        <li MayRequire="Ludeon.RimWorld.Ideology">NaturePrimacy</li>
        <!-- <li MayRequire="Ludeon.RimWorld.Ideology">Structure_Ideological</li> -->
        <li MayRequire="Ludeon.RimWorld.Ideology">Structure_OriginBuddhist</li>
        <!-- Forbidden Mod Memes -->
        <li MayRequire="llunak.MorePrecepts">Pacifism</li>
        <li MayRequire="Qux.factionhippie">PeaceLove</li>
        <li MayRequire="Zezz.Altrumeme">Altruism</li>
        <li MayRequire="VanillaExpanded.VMemesE">VME_Pacifist</li>
        <li MayRequire="sarg.alphamemes">AM_NonViolence</li>
        <li MayRequire="FalloutRedScare.FalloutRedScare">FRS_Structure_Socialist</li>
        <li MayRequire="Ludeon.RimwWorld.Ideology">SZ_Structure_CultureQiYuan</li>
        <li MayRequire="VanillaExpanded.VMemesE">VME_Structure_Corporate</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
      <value>
        <li>AR_Toga</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
      <value>
        <li>AR_LaurelWreath</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/MemeDef[defName="VME_Republic"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[@Name="PreceptRoleMultiBase"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
      <value>
        <li>AR_Toga</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/MemeDef[defName="VME_Republic"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[@Name="PreceptRoleMultiBase"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
      <value>
        <li>AR_LaurelWreath</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[defName="IdeoRole_Moralist"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
      <value>
        <li>AR_Toga</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[defName="IdeoRole_Moralist"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
      <value>
        <li>AR_LaurelWreath</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[defName="IdeoRole_Leader"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
      <value>
        <li>AR_Toga</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, do this replacement. -->
    <match Class="PatchOperationReplace">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[defName="IdeoRole_Leader"]/roleApparelRequirements/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
      <value>
        <li>AR_LaurelWreath</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- Does this exist? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If it does, add this. -->
    <match Class="PatchOperationAdd">
      <success>Always</success>
      <xpath>/Defs/FactionDef[@Name="VFEC_RepublicBase"]/requiredMemes</xpath>
      <value>
        <li MayRequire="VanillaExpanded.VMemesE">VME_Republic</li>
      </value>
    </match>
    <!-- If the first XPATH does not exist, the original code stands. -->
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[@Name="PreceptRoleMultiBase"]/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[@Name="PreceptRoleMultiBase"]/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef[defName="IdeoRole_Moralist"]/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Toga"]</xpath>
    </match>
  </Operation>
  <Operation Class="PatchOperationConditional">
    <!-- DO THE GENTILES KNOW? -->
    <xpath>/Defs/ThingDef[defName="VFEC_Apparel_LegionnaireArmor"]</xpath>
    <!-- If they do, SHUT IT DOWN. -->
    <match Class="PatchOperationRemove">
      <success>Always</success>
      <xpath>/Defs/PreceptDef/roleApparelRequirements/li/requirement/requiredDefs/li[text()="VFEC_Wreath"]</xpath>
    </match>
  </Operation>
</Patch>
